Web开发技术丛书
Web前端开发最佳实践

党　建　著



图书在版编目（CIP）数据
Web前端开发最佳实践/党建著. ―北京：机械工业出版社，2015.1
（Web开发技术丛书）
ISBN 978-7-111-48843-9
I.?W…　II.党…　III. ①超文本标记语言C程序设计   ②网页制作工具   ③JAVA语言C程序设计　IV. ①TP312   ②TP393. 092
中国版本图书馆CIP数据核字（2014）第293448号






Web前端开发最佳实践
出版发行：机械工业出版社（北京市西城区百万庄大街22号　邮政编码：100037）
责任编辑：谢晓芳	责任校对：董纪丽
印　　刷：	版　　次：2015年1月第1版第1次印刷
开　　本：170mm×242mm　1/16	印　　张：13.75
书　　号：ISBN 978-7-111-48843-9	定　　价：59.00元
凡购本书，如有缺页、倒页、脱页，由本社发行部调换
客服热线：（010）88378991　88361066	投稿热线：（010）88379604
购书热线：（010）68326294　88379649　68995259	读者信箱：hzjsj@hzbook.com
版权所有・侵权必究
封底无防伪标均为盗版
本书法律顾问：北京大成律师事务所　韩光/邹晓东




Preface?前　言
为什么要写这本书
Web前端开发入门难度并不高，但是初学者如果没有一个很好的学习和编码习惯，则开发水平的提高速度会变得很慢。下面几点是影响Web前端开发者技术提高的主要因素。
其一是开发者缺乏良好的实践指导。Web前端兴起的时间不长，很多大学都还没有来得及开一门专门讲解Web前端的课程，因此，大部分的Web前端开发者都是通过自学的方式来了解Web前端相关的技术。开发者学习前端技术的渠道很多，其中很大一部分是通过查找网络资源的方式，而网络上充斥着大量的错误或者过时的实践方法，这些实践方法很容易误导初学者，使得初学者养成了一些不良的开发习惯。因此，Web前端开发的初学者非常需要一些能帮助他们快速、正确地进行Web前端开发的最佳实践方法。
其二是开发者容易产生浮躁的情绪。Web前端虽然兴起时间不长，但是发展很迅速，技术的更新换代也非常快，这本来是一件好事情，但也使得很多Web前端开发者产生了浮躁的情绪。开发者疲于追逐各种最新的技术，而忽略了最基础的技术概念。这些开发者对Node. js、AngularJS、Polymer等相关概念相当熟悉，但对HTML标准规范、AJAX的原理、CSS选择器的优先级等基本的概念却理解得不够深入。实质上，虽然Web前端技术更新换代速度很快，但也离不开HTML、CSS、JavaScript这3个基本的技术。Web前端的开发者应该明白：只有掌握了扎实的基础知识，才能在学习新技术的时候更容易上手，并且更快地理解新技术的原理，否则只是接触新技术的皮毛而已。
其三是开发者不善于利用各种开发工具。人类文明之所以快速发展，和人类善于使用工具是分不开的。人类是感性动物，并不能保证每次都能正确地做同样的事情，但工具不一样，只要环境相同，工具每次处理的结果应该是一样的。类比到Web前端开发中，聪明的程序员应该学会利用各种辅助开发工具来提高开发效率，减少不必要的错误。Web前端开发中的工具覆盖了开发过程的方方面面，包括设计、开发、测试、部署等阶段的辅助工具。善于使用工具也是Web前端开发中必备的一项技能。
笔者从2002年开始接触软件开发，先后接触过各种主流的开发技术，包括各种Web开发技术。从2008年开始，主要从事Web前端开发的工作。在这么多年的Web网站开发过程中，笔者深知技术基础、编码规范、辅助开发工具对软件开发的重要性，因此，在平时的开发中会特别注重这方面的积累，也非常乐意分享个人的开发经验以及使用过的效果较好的开发工具。
本书综合了笔者这些年来积累的各种Web前端开发经验以及各种高效的Web前端开发实践。如果把这些实践方法称为最佳实践，则有可能会引来争议，但这些实践方法的确是认可度很高的方法。从内容上说，本书是一本介绍如何高效地从事Web前端开发的书籍，而不是讲解Web前端技术的书籍。虽然技术更新非常快，但高效的开发实践方法则相对会更新得慢一些。开发者掌握这些高效的实践方法，会在开发过程中节省大量的成本，另外，在学习新技术的过程中，也会应对自如。
读者对象
本书主要适合以下读者：
对Web前端有浓厚兴趣的读者
Web前端开发工程师
Web项目的管理人员
如何阅读本书
本书将分为五大部分，第一部分为概述，第二、三、四部分分别介绍HTML、CSS、JavaScript相关的实践方法，最后一部分简单介绍移动Web开发相关的实践方法。每个部分相对独立，读者可以从头至尾通读，也可以选择感兴趣的部分
阅读。
第一部分（第1、2章）为高效Web前端开发综述。这部分将介绍前端开发中的基本规范、代码组织、重构及测试相关话题，同时也介绍一些好用的开发辅助
工具。
第二部分（第3～5章）为HTML相关开发最佳实践。这部分贴合W3C标准，介绍如何编写符合标准的、语义化的、可维护性高的HTML代码，并简单介绍HTML5规范中新添加的标签和属性的使用。
第三部分（第6～8章）为CSS相关开发最佳实践。这部分介绍如何编写高维护性和高性能的CSS代码。并简单介绍如何高效地使用CSS3中新添加的特性。
第四部分（第9～11章）为JavaScript相关开发最佳实践。该部分同样包含了如何编写高维护性和高性能的JavaScript代码。同时，编写JavaScript代码也要考虑代码的安全性，因此，该部分也会介绍Web前端中的各种攻击及防范方法。
第五部分（第12章）为移动Web开发相关最佳实践。移动Web开发兴起的时间不长，很多开发实践方法也在总结和摸索阶段。前面四部分介绍的大部分实践方法同样适用于移动Web开发。另外，这个部分会简单介绍在移动Web开发时特别需要关注的实践方法。
勘误和支持
由于作者的水平有限，书中难免会出现一些错误或者不准确的地方，恳请读者批评指正。本书引用了大量的网络资源，但随着时间的推移，很难保证所有的资源都可以访问，因此，我把部分网络引用资源备份到我的个人网站：http://www.dang-jian.com，供读者查阅。同时，在该网站上也提供了本书中的源代码的下载。另外，在该网站上开辟了一个专门的栏目，用于勘误和问题咨询，欢迎读者提交在本书中发现的错误。如果对本书中的观点有不同的见解，也欢迎来该网站与笔者交流讨论。为方便读者，也欢迎发送邮件至我的邮箱：hunterdang@gmail.com。
致谢
首先，感谢西安葡萄城信息技术有限公司，正是借助该公司在博客园上的官方技术博客，我才能够将很多的技术思想表达出来。另外，通过在这个博客上写作，促成了本书的出版。
感谢经常和我在一起讨论技术的小伙伴们：张凌、许佳瑟、黄海涛、杨波、梁真。他们在本书的写作过程中提供了很多宝贵的意见，为本书增色不少。
感谢机械工业出版社的编辑杨绣国，感谢你容忍我多次推迟交稿时间，并且非常耐心地纠正各种表达上的错误。从你身上，我感受到了一个编辑的敬业精神。
谨以此书，献给我的妻子李莹鸽。她为了让我有更多的写作时间，毫无怨言地承担起了更多的家庭责任。如果没有她的鼓励和督促，我都不知道什么时候才能完成本书的写作。我儿子的出生也给了我很大的动力。每当我苦恼于如何把一些开发理念表达清楚时，儿子调皮的笑声缓解了我不小的压力。

党　建
马来西亚吉隆坡



Contents?目　录
前　言
第一部分　高效Web前端开发综述
第1章　Web前端开发概述  2
1.1　Web前端开发的范畴  2
1.1.1　什么是Web前端开发  2
1.1.2　Web前端开发需要具备的技能  3
1.2　Web前端开发现状  6
1.3　规范的Web前端代码：更易维护、更高性能和更安全  9
第2章　高效Web前端开发  11
2.1　前端代码的结构组织和文件的命名  11
2.2　前端代码重构  13
2.3　合理使用前端框架  15
2.4　多浏览器测试：多测试，早测试  16
2.5　Web前端代码开发和调试  19
2.5.1　Web前端集成开发环境  19
2.5.2　Web前端代码调试  20
2.5.3　Web前端性能分析  21
2.5.4　代码和资源的压缩与合并  22
2.6　前端代码基本命名规范和格式规范  25
2.6.1　HTML命名规范及格式规范  25
2.6.2　CSS命名规范及格式规范  27
2.6.3　JavaScript命名规范及格式规范  30
第二部分　HTML最佳实践
第3章　标准的HTML代码  36
3.1　验证代码是否符合标准  36
3.2　标准的HTML页面结构  39
3.3　正确闭合HTML标签  40
3.4　停止使用不标准的标签和属性，简化HTML代码  41
3.5　样式与结构分离  43
3.6　添加JavaScript禁用的提示信息  45
3.7　添加必要的<meta>标签  49
第4章　高可读性的HTML  53
4.1　HTML语义化  53
4.2　如何设置网页标题层级  58
4.3　如何正确设计表单  60
4.4　精简HTML代码  65
4.5　过时的块状元素和行内元素  68
第5章　积极拥抱HTML5  71
5.1　HTML5新特性的使用  71
5.1.1　使用HTML5中简化的定义方式  72
5.1.2　使用HTML5中的新标签和新属性   73
5.2　不要使用HTML5中已废弃的标签和属性  78
5.3　如何处理浏览器的兼容问题  79
第三部分　CSS最佳实践
第6章　高维护性的CSS  84
6.1　如何高效地组织CSS代码  84
6.2　使用CSS Reset：统一浏览器显示效果  89
6.3　给CSS样式定义排序  94
6.4　合理利用CSS的权重：提高代码的重用性  97
6.5　CSS代码的兼容性：如何兼容IE浏览器  101
6.6　em、px还是%  104
第7章　高性能的CSS  109
7.1　使用高效的CSS选择器  109
7.2　CSS相关的图片处理  112
7.3　减少CSS的代码量  116
7.4　其他CSS高性能实践  120
第8章　CSS3相关最佳实践  122
8.1　查看浏览器的支持情况  122
8.2　添加必要的浏览器前缀  123
8.3　做好CSS3中新特性的兼容处理  127
第四部分　JavaScript最佳实践
第9章　高维护性的JavaScript  132
9.1　养成良好的编码习惯，提高代码的可维护性  132
9.2　使用更严格的编码格式  138
9.3　事件处理和业务逻辑分离  141
9.4　配置数据和代码逻辑分离  142
9.5　逻辑与结构样式分离  145
9.5.1　从JavaScript代码逻辑中分离CSS样式  145
9.5.2　从JavaScript代码逻辑中分离HTML结构  146
9.6　JavaScript模板的使用  149
9.7　在JavaScript开发中应用MVC模式  152
9.8　JavaScript模块化开发  154
9.9　合理使用AJAX技术  156
第10章　高性能的JavaScript  159
10.1　加快JavaScript文件的加载速度  159
10.2　养成良好的编码习惯，提高代码运行速度  162
10.3　使用高性能的变量或属性值读取方式  165
10.4　高效的DOM操作  168
10.5　使用辅助工具优化JavaScript代码性能  173
第11章　高安全性的JavaScript  178
11.1　常见的Web前端攻击方式  179
11.2　不要轻易信任任何外部传入的数据  180
11.3　其他前端安全防范实践  183
第五部分　移动Web前端开发
第12章　移动Web前端开发最佳实践  186
12.1　移动Web前端开发概述  187
12.1.1　主流的移动终端和移动浏览器  187
12.1.2　移动端和桌面端Web前端开发的差异  188
12.1.3　如何让桌面Web页面兼容移动设备  190
12.1.4　开发移动Web站点的准备工作  196
12.2　移动Web前端开发相关技术最佳实践  199
12.2.1　HTML相关最佳实践  200
12.2.2　CSS相关最佳实践  202
12.2.3　JavaScript相关最佳实践  205
